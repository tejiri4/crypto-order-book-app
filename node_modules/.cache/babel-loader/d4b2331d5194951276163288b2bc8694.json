{"ast":null,"code":"const webSocketSetup = async ({\n  text,\n  currencyPair,\n  callBack\n}) => {\n  let ws = new WebSocket('wss://ws.bitstamp.net/');\n\n  if (text === 'unsubscribe') {\n    console.log('closed');\n  }\n\n  ws.onopen = () => {\n    //Subscribe to the channel\n    ws.send(JSON.stringify({\n      event: \"bts:\".concat(text),\n      data: {\n        channel: \"order_book_\".concat(currencyPair)\n      }\n    }));\n  };\n\n  ws.onmessage = msg => {\n    console.log(JSON.parse(msg.data), '=============>'); // callBack && callBack(JSON.parse(msg.data));\n  };\n\n  ws.onerror = error => {\n    console.log(\"WebSocket error: \".concat(error));\n  };\n};\n\nexport default webSocketSetup;","map":{"version":3,"sources":["/Users/tejirimatthew/crypto-order-book-app/src/utils/webSocketSetup.js"],"names":["webSocketSetup","text","currencyPair","callBack","ws","WebSocket","console","log","onopen","send","JSON","stringify","event","data","channel","onmessage","msg","parse","onerror","error"],"mappings":"AAAA,MAAMA,cAAc,GAAG,OAAO;AAC5BC,EAAAA,IAD4B;AAE5BC,EAAAA,YAF4B;AAG5BC,EAAAA;AAH4B,CAAP,KAIjB;AAKJ,MAAIC,EAAE,GAAG,IAAIC,SAAJ,CAAc,wBAAd,CAAT;;AAEA,MAAIJ,IAAI,KAAK,aAAb,EAA4B;AAC1BK,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAGD;;AAIDH,EAAAA,EAAE,CAACI,MAAH,GAAY,MAAM;AAChB;AACAJ,IAAAA,EAAE,CAACK,IAAH,CAAQC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,KAAK,gBAASX,IAAT,CAAP;AAAwBY,MAAAA,IAAI,EAAE;AAAEC,QAAAA,OAAO,uBAAgBZ,YAAhB;AAAT;AAA9B,KAAf,CAAR;AAGD,GALD;;AAQAE,EAAAA,EAAE,CAACW,SAAH,GAAgBC,GAAD,IAAS;AACtBV,IAAAA,OAAO,CAACC,GAAR,CAAYG,IAAI,CAACO,KAAL,CAAWD,GAAG,CAACH,IAAf,CAAZ,EAAkC,gBAAlC,EADsB,CAGtB;AACD,GAJD;;AAOAT,EAAAA,EAAE,CAACc,OAAH,GAAaC,KAAK,IAAI;AACpBb,IAAAA,OAAO,CAACC,GAAR,4BAAgCY,KAAhC;AACD,GAFD;AAID,CAtCD;;AAwCA,eAAenB,cAAf","sourcesContent":["const webSocketSetup = async ({\n  text,\n  currencyPair,\n  callBack\n}) => {\n\n\n\n\n  let ws = new WebSocket('wss://ws.bitstamp.net/');\n\n  if (text === 'unsubscribe') {\n    console.log('closed');\n    \n  \n  }\n\n\n\n  ws.onopen = () => {\n    //Subscribe to the channel\n    ws.send(JSON.stringify({ event: `bts:${text}`, data: { channel: `order_book_${currencyPair}` } }))\n  \n\n  }\n\n\n  ws.onmessage = (msg) => {\n    console.log(JSON.parse(msg.data), '=============>');\n\n    // callBack && callBack(JSON.parse(msg.data));\n  }\n\n\n  ws.onerror = error => {\n    console.log(`WebSocket error: ${error}`)\n  }\n\n}\n\nexport default webSocketSetup;\n\n"]},"metadata":{},"sourceType":"module"}